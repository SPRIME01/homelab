[defaults]
inventory = inventory/
roles_path = roles/
host_key_checking = False
retry_files_enabled = False
gathering = smart
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible_facts
fact_caching_timeout = 86400
stdout_callback = yaml
bin_ansible_callbacks = True

# CRITICAL: Force Tailscale SSH as default transport
# This ensures all SSH connections use Tailscale's encrypted VPN tunnel
# If Tailscale is unavailable, connections will fail (fail-secure design)
transport = ssh

[ssh_connection]
# Use Tailscale SSH for all connections (requires active tailnet)
ssh_executable = tailscale ssh
pipelining = True
control_path = /tmp/ansible-ssh-%%h-%%p-%%r
