import pytest
from hooks import pre_copy


def test_check_answers_valid():
    answers = {
        'project_name': 'my-project',
        'admin_email': 'me@example.com',
        'npm_scope': '@scope',
        'node_version': '22.17.0'
    }
    pre_copy.check_answers(answers)


def test_check_answers_invalid_project_name():
    answers = {'project_name': 'MyProject'}
    with pytest.raises(SystemExit):
        pre_copy.check_answers(answers)


def test_check_answers_invalid_email():
    answers = {'admin_email': 'notanemail'}
    with pytest.raises(SystemExit):
        pre_copy.check_answers(answers)


def test_check_answers_invalid_npm_scope():
    answers = {'npm_scope': 'scope-without-at'}
    with pytest.raises(SystemExit):
        pre_copy.check_answers(answers)


def test_check_answers_invalid_semver():
    answers = {'node_version': '22.17'}
    with pytest.raises(SystemExit):
        pre_copy.check_answers(answers)
